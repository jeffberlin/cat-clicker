<!DOCTYPE html>
<html>
  <head>
    <link href="css/style.css" rel="stylesheet">
  </head>

  <body>

  	<ul id="selector" name="select"></ul>
    <div id="catselector"></div>
  	<div id="catinfo"></div>

    <script>

    	var model = {
    		currentCat: null,
    		catList: [
    		{
    			title: 'Sassy',
    			caption: 'Sassy Cat',
    			imgSrc: 'cat.jpg'
    		},
    		{
    			title: 'Grumpy',
    			caption: 'Grumpy Cat',
    			imgSrc: 'grumpy-cat.jpg'
    		},
    		{
    			title: 'Cuddles',
    			caption: 'Cuddling Cats',
    			imgSrc: 'cuddles.jpg'
    		},
    		{
    			title: 'Sketchy',
    			caption: 'Sketchy Cat',
    			imgSrc: 'sketchycat.jpg'
    		},
    		{
    			title: 'Sneezing',
    			caption: 'Sneezing Cat',
    			imgSrc: 'sneezingcat.jpg'
    		}
    	]
    };
    	var root = document.querySelector('#selector');
        var catInfo = document.querySelector('#catinfo');

    	for (var i = 0; i < model.catList.length; i++) {
    		root.innerHTML += "<li ><a href'#' data-id="+i+">"+model.catList[i].title+"<a></li>";
    	}

        function updateCatInfo() {
            model.currentCat = model.catList[this.dataset.id];
            var catData = "<div><figcaption>"+model.currentCat.caption+"</figcaption><h3 data-count=0>Picture Clicks: 0</h3><img src=images/"+model.currentCat.imgSrc+"></div>";
            catInfo.innerHTML = catData;
            var catLink = document.querySelector('img');
            catLink.addEventListener('click', updateCounter);
        }

        function updateCounter() {
            var h3 = this.parentNode.querySelector('h3')
            count = parseInt(h3.dataset.count)
            newcount = count + 1

            h3.setAttribute('data-count', newcount)
            h3.innerHTML = "Picture Clicks: "+ newcount
        }

        var allCats = document.querySelectorAll('#selector li');

        allCats.forEach(function(cat) {
            cat.addEventListener('click', updateCatInfo)
        })

        // var kitty = document.querySelector('div#catinfo')

        // for (var i = 0; i < model.catList.length; i++) {
        //   kitty.innerHTML += "<div><figcaption>"+model.catList[i].caption+"</figcaption><h3 data-count=0>Picture clicks: 0</h3><img src=images/"+model.catList[i].imgSrc+"></div>"
        // }

        //var catClicks = document.querySelectorAll('img')

        // for(var i = 0; i < catClicks.length; i++) {
        //   catClicks[i].addEventListener('click', function() {
        //     var h3 = this.parentNode.querySelector('h3')
        //     count = parseInt(h3.dataset.count)
        //     newcount = count += 1

        //     h3.setAttribute('data-count', newcount)
        //     h3.innerHTML = "Picture clicks: "+ newcount
        //   })
        // }

        //selecting different cats
        // var octopus = {

        // 	init: function() {
        // 		model.currentCat = model.catList[0].imgSrc;
        // 		catListView.init();
        // 		catView.init();
        // 	},

        // 		getcurrentCat: function(){
        // 			return model.currentCat;
        // 		},

        // 		getCats: function() {
        // 			return model.catList;
        // 		},

        // 		setcurrentCat: function(cat) {
        // 			model.currentCat = cat;
        // 		}
        // 	}

        // 	var catView = {

        // 		init: function() {
        // 			this.catElem = document.getElementById('catinfo');
        // 		}
        // 	}
 
    </script>

  </body>
 </html>